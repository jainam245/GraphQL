{"version":3,"sources":["shopping.js"],"names":["shoppingForm","document","querySelector","list","items","handleSubmit","e","preventDefault","console","log","name","currentTarget","item","value","id","Date","now","complete","push","length","target","reset","dispatchEvent","CustomEvent","displayItems","html","map","join","innerHTML","mirrorToLocalStorage","localStorage","setItem","JSON","stringify","info","restoreFromLocalStorage","lsItems","parse","getItem","deleteItem","filter","markAsComplete","itemRef","find","addEventListener","parseInt","matches"],"mappings":"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","file":"shopping.3c459b95.js","sourceRoot":"..","sourcesContent":["const shoppingForm = document.querySelector(\".shopping\");\r\nconst list = document.querySelector(\".list\");\r\n\r\n//We need an array to hold our state\r\nlet items = [];\r\n\r\nfunction handleSubmit(e) {\r\n    e.preventDefault();\r\n    console.log(\"Submitted!!!!\");\r\n    const name = e.currentTarget.item.value;\r\n\r\n    // if it's empty, then don't submit it.\r\n  if (!name) return;\r\n\r\n    const item = {\r\n      name,\r\n      id: Date.now(),\r\n      complete: false,\r\n    };\r\n    // push the items into our state\r\n    items.push(item);\r\n    console.log(`There are now ${items.length} in your state`);\r\n    // clear the form\r\n    e.target.reset();\r\n\r\n    list.dispatchEvent(new CustomEvent('itemsUpdated'));\r\n    \r\n  }\r\n\r\n  function displayItems() {\r\n    console.log(items);\r\n    const html = items\r\n  .map(\r\n    (item) => `<li class=\"shopping-item\">\r\n      <input\r\n        type=\"checkbox\"\r\n        value=\"${item.id}\"\r\n        ${item.complete && 'checked'}\r\n        >\r\n      <span class=\"itemName\">${item.name}</span>\r\n      <button\r\n        aria-label=\"Remove ${item.name}\"\r\n        value=\"${item.id}\"\r\n      >&times;</button>\r\n    </li>`\r\n  )\r\n  .join(\"\");\r\n    list.innerHTML = html;\r\n  }\r\n\r\n  function mirrorToLocalStorage() {\r\n    localStorage.setItem(items, JSON.stringify(items));\r\n    console.info(\"Saving items to localstorage\");\r\n  }\r\n\r\n  function restoreFromLocalStorage() {\r\n    console.info(\"restoring from LS\");\r\n    const lsItems = JSON.parse(localStorage.getItem(\"items\"));\r\n    if (lsItems.length) {\r\n        // items = lsItems;\r\n        // lsItems.forEach(item=> items.push(item));\r\n        items.push(...lsItems);\r\n        list.dispatchEvent(new CustomEvent('itemsUpdated'));\r\n      }\r\n  }\r\n  function deleteItem(id) {\r\n    console.log(\"DELETING ITEM!!!\", id);\r\n    items = items.filter((item) => item.id !== id);\r\n    list.dispatchEvent(new CustomEvent(\"itemsUpdated\"));\r\n  }\r\n\r\n  function markAsComplete(id) {\r\n    console.log(\"Marking as complete!\", id);\r\n    const itemRef = items.find((item) => item.id === id);\r\n    \r\n    itemRef.complete = !itemRef.complete;\r\nlist.dispatchEvent(new CustomEvent('itemsUpdated'));\r\n  }\r\n  shoppingForm.addEventListener('submit', handleSubmit);\r\n  list.addEventListener('itemsUpdated', displayItems);\r\n  list.addEventListener('itemsUpdated', mirrorToLocalStorage);\r\n\r\n  // event delegation: We listened for the click on the list <ul> but then delegate the click over to the button if that is what was clicked.\r\n  list.addEventListener(\"click\", function(e) {\r\n    const id = parseInt(e.target.value);\r\n    if (e.target.matches(\"button\")) {\r\n      deleteItem(id);\r\n    }\r\n    if (e.target.matches('input[type=\"checkbox\"]')) {\r\n      markAsComplete(id);\r\n    }\r\n  });\r\n\r\nrestoreFromLocalStorage();\r\n\r\n \r\n\r\n \r\n\r\n "]}